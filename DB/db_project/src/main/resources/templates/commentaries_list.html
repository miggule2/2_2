<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="${listTitle} + ' - 코멘터리 목록'">코멘터리 목록</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .official-mark { color: #007bff; font-weight: bold; margin-right: 5px; }
    .comment-item { border: 1px solid #ddd; border-radius: 5px; margin-bottom: 15px; padding: 15px; }
    .player-link { color: #28a745; text-decoration: none; font-weight: bold; }
  </style>
</head>
<body>

<h1 th:text="${listTitle}">팀별 코멘터리 목록</h1>
<hr/>

<h2>팀별 필터</h2>
<form th:action="@{/commentaries/team}" method="get">
  <label>팀 선택:</label>
  <select name="teamId" onchange="this.form.submit()">
    <option value="">팀 선택</option>
    <option th:each="t : ${teams}"
            th:value="${t.teamId}"
            th:text="${t.teamName}"
            th:selected="${t.teamId == teamId}"></option>
  </select>
</form>

<hr/>

<div th:each="comment : ${commentaries}" class="comment-item">
  <div class="comment-header">
    <span th:if="${comment.isOfficial}" class="official-mark">⭐ 공식</span>

    대상 선수:
    <a th:href="@{'/commentaries/players/' + ${comment.playerId}}" th:text="${comment.playerName}" class="player-link">선수명</a>
  </div>

  <p th:text="${comment.comment}">코멘터리 내용</p>

  <small>작성자: <span th:text="${comment.userName}"></span></small> |
  <small>작성 시간: <span th:text="${comment.createdTime}"></span></small>

  <span th:if="${currentUserId != null and comment.authorId == currentUserId}">
             <a href="#" style="color: red; margin-left: 10px;">[삭제]</a>
        </span>
</div>

<div th:if="${commentaries.isEmpty()}">
  <p>조건에 맞는 코멘터리가 없습니다.</p>
</div>

</body>
</html>